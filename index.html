<!DOCTYPE html>
<html lang="vi">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Thi·ªáp m·ªùi L·ªÖ t·ªët nghi·ªáp - T√¥ng H·ªìng Tr·∫Øng</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Monsieur+La+Doulaise&family=Pacifico&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet">

  <link rel="stylesheet" href="style.css">

  <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
  <link href='https://cdn.boxicons.com/3.0.3/fonts/basic/boxicons.min.css' rel='stylesheet'>
  <link href='https://cdn.boxicons.com/3.0.3/fonts/brands/boxicons-brands.min.css' rel='stylesheet'>

</head>

<body>

  <!-- C·ª≠a phong b√¨ m·ªü -->
  <!-- <div class="envelope">
    <div class="left-door"></div>
    <div class="right-door"></div>
  </div> -->

  <!-- M√¢y bay n·ªÅn -->


  <!-- N·ªôi dung thi·ªáp -->
  <div class="card-container fade-in-scale" data-scroll>
    <div class="card" data-scroll>
      <div class="card-glow"></div>

      <header class="card-header">
        <h1 class="invite-title" data-scroll>Th∆∞ m·ªùi tham d·ª±</h1>
        <h2 class="main-title" data-scroll>L·ªÑ T·ªêT NGHI·ªÜP</h2>
      </header>
      <section class="card-body" data-scroll>
        <p class="guest-name">Phi Tuy·∫øt</p>
      </section>

      <section class="card-images" data-scroll>
        <!-- <img src="https://res.cloudinary.com/djtbi5avl/image/upload/v1763267777/anhphu_qcz6mu.jpg" alt="·∫£nh ch√≠nh"> -->
        <img src="https://res.cloudinary.com/djtbi5avl/image/upload/v1763267770/anhpt_vqk2jp.jpg" alt="·∫£nh ph·ª•">
      </section>
      <section class="card-time" data-scroll>
        <div class="time-line">TH√ÅNG 11</div>
        <div class="time-day">26</div>
        <div class="time-line small">15:30</div>
      </section>
      <section class="card-info" data-scroll>
        <p><i class='bxr  bx-location-alt-2'></i> ƒê·ªãa ƒëi·ªÉm: TR∆Ø·ªúNG ƒê·∫†I H·ªåC C√îNG NGHI·ªÜP TH√ÄNH PH·ªê H·ªí CH√ç MINH (C·ªïng 1)
        </p>
        <p>S·ª± hi·ªán di·ªán c·ªßa b·∫°n l√† ni·ªÅm vinh h·∫°nh ƒë·ªëi v·ªõi m√¨nh</p>
        <p>H·∫πn g·∫∑p b·∫°n t·∫°i bu·ªïi l·ªÖ!</p>
        <p><i class='bxr  bx-phone'></i> 0917170273 - Phi Tuy·∫øt</p>
      </section>
      <section class="card-message" data-scroll>
        <p class="thanks">TR√ÇN TR·ªåNG!</p>
        <!-- <p class="signature">Phi Tuy·∫øt 8386 M√£i ƒê·ªânh üíñ</p> -->
      </section>

      <section class="card-buttons" data-scroll>
        <button id="photoSpotBtn" class="btn btn-primary">ƒêI·ªÇM CH·ª§P ·∫¢NH</button>
        <button id="btn-directions" class="btn btn-outline">XEM CH·ªà ƒê∆Ø·ªúNG</button>
      </section>
    </div>
  </div>
  <div id="photoPopup" class="popup-overlay" style="display: none;">
    <div class="popup-content">
      <span id="closePhotoPopup" class="popup-close">&times;</span>
      <img src="https://res.cloudinary.com/djtbi5avl/image/upload/v1763267844/address_htmj3h.jpg" alt="ƒêi·ªÉm ch·ª•p h√¨nh"
        class="popup-image">
    </div>
  </div>

  <!-- JS Scroll + Glow -->
  <script>
    const glow = document.querySelector('.card-glow');
    window.addEventListener('mousemove', (e) => {
      const x = (e.clientX / window.innerWidth - 0.5) * 30;
      const y = (e.clientY / window.innerHeight - 0.5) * 30;
      glow.style.transform = `translateX(${x}px) translateY(${y}px)`;
    });

    // Scroll animation
    const scrollElements = document.querySelectorAll("[data-scroll]");
    const elementInView = (el, offset = 0) => {
      const elementTop = el.getBoundingClientRect().top;
      return elementTop <= (window.innerHeight || document.documentElement.clientHeight) - offset;
    };
    const displayScrollElement = (el) => el.classList.add("scroll-visible");
    const hideScrollElement = (el) => el.classList.remove("scroll-visible");

    const handleScrollAnimation = () => {
      scrollElements.forEach((el) => {
        if (elementInView(el, 0)) { displayScrollElement(el); }
        else { hideScrollElement(el); }
      });
    };

    window.addEventListener("scroll", handleScrollAnimation);
    window.addEventListener("load", () => {
      scrollElements.forEach(el => el.classList.add("scroll-visible")); // lu√¥n hi·ªÉn th·ªã
      handleScrollAnimation();
    });

    // N√∫t ch·ªâ ƒë∆∞·ªùng
    const directionsBtn = document.getElementById('btn-directions');
    const destinationAddress = "Tr∆∞·ªùng ƒê·∫°i h·ªçc C√¥ng nghi·ªáp TP.HCM, Nguy·ªÖn VƒÉn B·∫£o, G√≤ V·∫•p, TP.HCM";

    directionsBtn.addEventListener('click', () => {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(
          (position) => {
            const userLat = position.coords.latitude;
            const userLng = position.coords.longitude;
            const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;

            if (isIOS) {
              // M·ªü Google Maps app tr√™n iOS
              const url = `comgooglemaps://?saddr=${userLat},${userLng}&daddr=${encodeURIComponent(destinationAddress)}&directionsmode=driving`;
              window.location.href = url;

              // Fallback web n·∫øu app kh√¥ng c√≥
              setTimeout(() => {
                const webUrl = `https://www.google.com/maps/dir/?api=1&origin=${userLat},${userLng}&destination=${encodeURIComponent(destinationAddress)}&travelmode=driving`;
                window.open(webUrl, '_blank');
              }, 1000);
            } else {
              // Android & desktop
              const mapsUrl = `https://www.google.com/maps/dir/?api=1&origin=${userLat},${userLng}&destination=${encodeURIComponent(destinationAddress)}&travelmode=driving`;
              window.open(mapsUrl, '_blank');
            }
          },
          (error) => {
            alert("Kh√¥ng th·ªÉ l·∫•y v·ªã tr√≠ c·ªßa b·∫°n. Vui l√≤ng b·∫≠t ƒë·ªãnh v·ªã.");
          }
        );
      } else {
        alert("Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ ƒë·ªãnh v·ªã.");
      }
    });
    const photoBtn = document.getElementById('photoSpotBtn');
    const photoPopup = document.getElementById('photoPopup');
    const closePhoto = document.getElementById('closePhotoPopup');

    // M·ªü popup khi click
    photoBtn.addEventListener('click', () => {
      photoPopup.style.display = 'flex';
    });

    // ƒê√≥ng popup khi click d·∫•u X
    closePhoto.addEventListener('click', () => {
      photoPopup.style.display = 'none';
    });

    // ƒê√≥ng popup khi click ngo√†i n·ªôi dung
    photoPopup.addEventListener('click', (e) => {
      if (e.target === photoPopup) {
        photoPopup.style.display = 'none';
      }
    });


  </script>

</body>

</html>